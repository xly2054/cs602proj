<div>
	<form method="post" action='/customer/{{custid}}/cart/add'>
	<div class="table-responsive">
		<b>Customer ID: {{custid}}</b>
	<table id="ClientItemsTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Id</th>
				<th>ItemName</th>
				<th>ItemDescription</th>
				<th>ItemPrice</th>
				<th>ItemQuantity</th>
                <th>RefId</th>
				<th>Qty to Order</th>
                <th></th>
			</tr>
		</thead>
	</table>
		<script type="text/javascript">
		$(document).ready(function(){
			$('#ClientItemsTable').DataTable({
			processing : true,
			serverSide : true,
			ajax : { url: '/data/get/items'},
			columns : [
				{ data : "Id" },
				{ data : "ItemName" },
				{ data : "ItemDescription" },
				{ data : "ItemPrice" },
				{ data : "ItemQuantity"},
				{ data : "_id" },
				{
					class : 'Qty',
					orderable:      false,
					data:           null,
					defaultContent: '<input type="Number" name="itemQty" maxlength="4" size="4">'
				},
				{
					class : 'AddToCart',
					orderable:      false,
					data:           null,
					defaultContent: '<button class="btn btn-success">Add To Cart</button>'
				}
			]
			});

			$('#ClientItemsTable tbody').on( 'click', 'tr td.AddToCart', function () {
				var refId = $(this).prev().text();
				var qty = $(this).prev().text();
				var price = $(this).prev().text();
				var name = $(this).prev().prev()text();
				console.log(name,price,qty);
				document.getElementById("itemQty").value = qty;
				document.getElementById("itemPrice").value = price;
				document.getElementById("itemName").value = name;
				var event = new Event('submit');
			});
		});
		</script>
		</div>
		<div>
			<br><b>Customer Cart</b><br>
		<table class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>ItemName</th>
				<th>ItemPrice</th>
				<th>ItemQty</th>
				<th>SubTotal</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
				{{#each data}}
					<tr>
						<td>{{this.order_ItemName}}</td>
						<td>{{this.order_ItemPrice}}</td>
						<td>{{this.order_ItemQty}}</td>
						<td>{{this.order_subTotal}}</td>
						</td>
						<td>
							<a href="/courses/delete/{{this.id}}">Delete</a>
						</td>
					</tr>
				{{/each}}
			</tbody>
		<tfooter>
				<tr><td>
				<button class="btn btn-primary" 
						onClick="placeOrder();">Place Order</button>
				</td></tr>
		</tfooter>
		</table>
	</div>
	</form>
</div>
