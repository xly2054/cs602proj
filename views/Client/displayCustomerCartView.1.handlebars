<div>
	<form method="post" action='/customer/{{custid}}/cart/add'>
	<input type="text" id="refId">
	<div class="table-responsive">
		<b>Customer ID: {{custid}}</b>
	<table id="ClientItemsTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Id</th>
				<th>ItemName</th>
				<th>ItemDescription</th>
				<th>ItemPrice</th>
				<th>ItemQuantity</th>
                <th>RefId</th>
				<th></th>
                <th></th>
			</tr>
		</thead>
		<tbody>
		<script type="text/javascript">
		$(document).ready(function(){
			$('#ClientItemsTable').DataTable({
			processing : true,
			serverSide : true,
			ajax : { url: '/data/get/items'},
			columns : [
		  		{ data : "Id" },
		    	{ data : "ItemName" },
		    	{ data : "ItemDescription" },
		    	{ data : "ItemPrice" },
		    	{ data : "ItemQuantity"},
            	{ data : "_id" },
				{
					class : 'AddToCart',
					orderable:      false,
					data:           null,
					defaultContent: '<button class="btn btn-success">Add To Cart</button>'
				},
				{
					class : 'Qty',
					orderable:      false,
					data:           null,
					defaultContent: '<input type="Number" name="itemQty" value="1">'
				}

			]
			});

			$('#ClientItemsTable tbody').on( 'click', 'tr td.AddToCart', function () {
				var refID = $(this).prev().text();
				document.getElementById("refId").value = refID;
				var event = new Event('submit');
			});
		});
		</script>
		</tbody>
		</table>
		</div>
		<div>
			<br><b>Customer Cart</b><br>
		<table class="table table-striped table-bordered" cellspacing="0" width="60%">
		<thead>
			<tr>
				<th>ItemName</th>
				<th>ItemPrice</th>
				<th>ItemQty</th>
				<th>SubTotal</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
				{{#each data}}
					<tr>
						<td>{{this.order_ItemName}}</td>
						<td>{{this.order_ItemPrice}}</td>
						<td>{{this.order_ItemQty}}</td>
						<td>{{this.order_subTotal}}</td>
						</td>
						<td>
							<a href="/courses/delete/{{this.id}}">Delete</a>
						</td>
					</tr>
				{{/each}}
			</tbody>
		<tfooter>
				<tr><td>
				<button class="btn btn-primary" 
						onClick="placeOrder();">Place Order</button>
				</td></tr>
		</tfooter>
		</table>
	</div>
	</form>
</div>
